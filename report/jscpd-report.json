{
  "statistics": {
    "detectionDate": "2025-12-13T07:24:23.287Z",
    "formats": {
      "python": {
        "sources": {
          "src/agentic_fleet/utils/storage/__init__.py": {
            "lines": 51,
            "tokens": 190,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/utils/infra/__init__.py": {
            "lines": 54,
            "tokens": 197,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 42,
            "duplicatedTokens": 194,
            "percentage": 77.78,
            "percentageTokens": 98.48,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/cli/commands/run.py": {
            "lines": 226,
            "tokens": 1539,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/cli/commands/optimize.py": {
            "lines": 208,
            "tokens": 1487,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/cli/commands/inspect.py": {
            "lines": 253,
            "tokens": 1832,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/cli/commands/handoff.py": {
            "lines": 137,
            "tokens": 938,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/cli/commands/eval.py": {
            "lines": 209,
            "tokens": 1603,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/cli/commands/dev.py": {
            "lines": 114,
            "tokens": 777,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/api/routes/workflows.py": {
            "lines": 42,
            "tokens": 361,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/api/routes/sessions.py": {
            "lines": 67,
            "tokens": 426,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/api/routes/nlu.py": {
            "lines": 115,
            "tokens": 795,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 20,
            "duplicatedTokens": 182,
            "percentage": 17.39,
            "percentageTokens": 22.89,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/api/routes/history.py": {
            "lines": 86,
            "tokens": 663,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/api/routes/dspy.py": {
            "lines": 87,
            "tokens": 728,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/api/routes/conversations.py": {
            "lines": 52,
            "tokens": 300,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/api/routes/chat.py": {
            "lines": 22,
            "tokens": 101,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/api/routes/agents.py": {
            "lines": 49,
            "tokens": 302,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/api/routes/__init__.py": {
            "lines": 24,
            "tokens": 71,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/api/events/mapping.py": {
            "lines": 960,
            "tokens": 6996,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/api/api_v1/api.py": {
            "lines": 21,
            "tokens": 171,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/workflows/strategies_sequential.py": {
            "lines": 506,
            "tokens": 3393,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 34,
            "duplicatedTokens": 303,
            "percentage": 6.72,
            "percentageTokens": 8.93,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/workflows/strategies_parallel.py": {
            "lines": 218,
            "tokens": 1638,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 10,
            "duplicatedTokens": 95,
            "percentage": 4.59,
            "percentageTokens": 5.8,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/workflows/strategies_discussion.py": {
            "lines": 136,
            "tokens": 887,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 12,
            "duplicatedTokens": 104,
            "percentage": 8.82,
            "percentageTokens": 11.72,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/workflows/strategies_delegated.py": {
            "lines": 191,
            "tokens": 1378,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 12,
            "duplicatedTokens": 104,
            "percentage": 6.28,
            "percentageTokens": 7.55,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/workflows/strategies_base.py": {
            "lines": 109,
            "tokens": 875,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/workflows/strategies.py": {
            "lines": 173,
            "tokens": 1123,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/workflows/narrator.py": {
            "lines": 43,
            "tokens": 245,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/workflows/models.py": {
            "lines": 301,
            "tokens": 1848,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/workflows/initialization.py": {
            "lines": 346,
            "tokens": 2274,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/workflows/helpers.py": {
            "lines": 667,
            "tokens": 3780,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 59,
            "duplicatedTokens": 383,
            "percentage": 8.85,
            "percentageTokens": 10.13,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/workflows/handoff.py": {
            "lines": 600,
            "tokens": 3497,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 20,
            "duplicatedTokens": 200,
            "percentage": 3.33,
            "percentageTokens": 5.72,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/workflows/group_chat_adapter.py": {
            "lines": 245,
            "tokens": 1526,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/workflows/executors_routing.py": {
            "lines": 301,
            "tokens": 2205,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/workflows/executors_quality.py": {
            "lines": 207,
            "tokens": 1539,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 10,
            "duplicatedTokens": 86,
            "percentage": 4.83,
            "percentageTokens": 5.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/workflows/executors_progress.py": {
            "lines": 160,
            "tokens": 1140,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 10,
            "duplicatedTokens": 86,
            "percentage": 6.25,
            "percentageTokens": 7.54,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/workflows/executors_legacy.py": {
            "lines": 37,
            "tokens": 129,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/workflows/executors_execution.py": {
            "lines": 169,
            "tokens": 1282,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/workflows/executors_dspy.py": {
            "lines": 103,
            "tokens": 666,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/workflows/executors_base.py": {
            "lines": 40,
            "tokens": 269,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/workflows/executors_analysis.py": {
            "lines": 337,
            "tokens": 2350,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 20,
            "duplicatedTokens": 190,
            "percentage": 5.93,
            "percentageTokens": 8.09,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/workflows/executors.py": {
            "lines": 22,
            "tokens": 97,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/workflows/exceptions.py": {
            "lines": 288,
            "tokens": 1632,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/workflows/conversation_context.py": {
            "lines": 132,
            "tokens": 942,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/workflows/context.py": {
            "lines": 236,
            "tokens": 1663,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/workflows/config.py": {
            "lines": 96,
            "tokens": 648,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/workflows/builder.py": {
            "lines": 339,
            "tokens": 1844,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/workflows/__init__.py": {
            "lines": 120,
            "tokens": 638,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/utils/types.py": {
            "lines": 243,
            "tokens": 1170,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/utils/tracing.py": {
            "lines": 324,
            "tokens": 1713,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/utils/tool_registry.py": {
            "lines": 497,
            "tokens": 3474,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/utils/telemetry.py": {
            "lines": 234,
            "tokens": 1356,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/utils/self_improvement.py": {
            "lines": 570,
            "tokens": 3869,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 26,
            "duplicatedTokens": 180,
            "percentage": 4.56,
            "percentageTokens": 4.65,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/utils/resilience.py": {
            "lines": 220,
            "tokens": 1163,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/utils/progress.py": {
            "lines": 335,
            "tokens": 2883,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/utils/persistence.py": {
            "lines": 113,
            "tokens": 844,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/utils/models.py": {
            "lines": 196,
            "tokens": 1414,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/utils/memory.py": {
            "lines": 21,
            "tokens": 129,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/utils/logger.py": {
            "lines": 88,
            "tokens": 509,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/utils/job_store.py": {
            "lines": 43,
            "tokens": 353,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/utils/history_manager.py": {
            "lines": 587,
            "tokens": 4136,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 26,
            "duplicatedTokens": 172,
            "percentage": 4.43,
            "percentageTokens": 4.16,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/utils/gepa_optimizer.py": {
            "lines": 726,
            "tokens": 5088,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/utils/error_utils.py": {
            "lines": 166,
            "tokens": 867,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/utils/dspy_utils.py": {
            "lines": 35,
            "tokens": 131,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/utils/dspy_manager.py": {
            "lines": 212,
            "tokens": 935,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/utils/cosmos.py": {
            "lines": 556,
            "tokens": 3635,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/utils/core.py": {
            "lines": 43,
            "tokens": 164,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/utils/config.py": {
            "lines": 860,
            "tokens": 6113,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/utils/cache.py": {
            "lines": 251,
            "tokens": 1613,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/utils/agent_framework_shims.py": {
            "lines": 366,
            "tokens": 3036,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/utils/__init__.py": {
            "lines": 118,
            "tokens": 589,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/tools/tavily_tool.py": {
            "lines": 191,
            "tokens": 1165,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/tools/mcp_tools.py": {
            "lines": 240,
            "tokens": 1162,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/tools/hosted_code_adapter.py": {
            "lines": 81,
            "tokens": 495,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/tools/browser_tool.py": {
            "lines": 292,
            "tokens": 1690,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/tools/base_mcp_tool.py": {
            "lines": 251,
            "tokens": 1454,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/tools/azure_search_provider.py": {
            "lines": 130,
            "tokens": 875,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/tools/__init__.py": {
            "lines": 22,
            "tokens": 132,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/services/workflows.py": {
            "lines": 140,
            "tokens": 513,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/services/dspy_service.py": {
            "lines": 205,
            "tokens": 1716,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/services/dspy_programs.py": {
            "lines": 133,
            "tokens": 481,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/services/conversation.py": {
            "lines": 195,
            "tokens": 1485,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/services/chat_websocket.py": {
            "lines": 947,
            "tokens": 6959,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/services/agents.py": {
            "lines": 43,
            "tokens": 159,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/services/__init__.py": {
            "lines": 60,
            "tokens": 315,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/scripts/self_improve.py": {
            "lines": 151,
            "tokens": 808,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/scripts/manage_cache.py": {
            "lines": 65,
            "tokens": 371,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/scripts/evaluate_history.py": {
            "lines": 84,
            "tokens": 612,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/scripts/create_history_evaluation.py": {
            "lines": 124,
            "tokens": 1021,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/scripts/analyze_history.py": {
            "lines": 261,
            "tokens": 2096,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/scripts/__init__.py": {
            "lines": 11,
            "tokens": 0,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/models/workflows.py": {
            "lines": 32,
            "tokens": 197,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/models/responses.py": {
            "lines": 56,
            "tokens": 303,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/models/requests.py": {
            "lines": 126,
            "tokens": 701,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/models/events.py": {
            "lines": 117,
            "tokens": 1097,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/models/dspy.py": {
            "lines": 93,
            "tokens": 434,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/models/conversations.py": {
            "lines": 52,
            "tokens": 259,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/models/base.py": {
            "lines": 104,
            "tokens": 440,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/models/__init__.py": {
            "lines": 47,
            "tokens": 212,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/evaluation/metrics.py": {
            "lines": 166,
            "tokens": 1430,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/evaluation/evaluator.py": {
            "lines": 203,
            "tokens": 1734,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/dspy_modules/typed_models.py": {
            "lines": 427,
            "tokens": 2335,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/dspy_modules/signatures.py": {
            "lines": 455,
            "tokens": 2672,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/dspy_modules/reasoner_utils.py": {
            "lines": 290,
            "tokens": 1898,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 45,
            "duplicatedTokens": 325,
            "percentage": 15.52,
            "percentageTokens": 17.12,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/dspy_modules/reasoner_predictions.py": {
            "lines": 469,
            "tokens": 3257,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 66,
            "duplicatedTokens": 532,
            "percentage": 14.07,
            "percentageTokens": 16.33,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/dspy_modules/reasoner_modules.py": {
            "lines": 338,
            "tokens": 2669,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/dspy_modules/reasoner_cache.py": {
            "lines": 228,
            "tokens": 1682,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/dspy_modules/nlu_signatures.py": {
            "lines": 31,
            "tokens": 214,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/dspy_modules/nlu.py": {
            "lines": 165,
            "tokens": 1128,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/dspy_modules/handoff_signatures.py": {
            "lines": 154,
            "tokens": 886,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/dspy_modules/assertions.py": {
            "lines": 613,
            "tokens": 2885,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/dspy_modules/answer_quality.py": {
            "lines": 242,
            "tokens": 1444,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/dspy_modules/__init__.py": {
            "lines": 105,
            "tokens": 495,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/core/storage.py": {
            "lines": 48,
            "tokens": 103,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/core/settings.py": {
            "lines": 59,
            "tokens": 436,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/core/middleware.py": {
            "lines": 243,
            "tokens": 1971,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/core/logging.py": {
            "lines": 66,
            "tokens": 197,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 42,
            "duplicatedTokens": 194,
            "percentage": 63.64,
            "percentageTokens": 98.48,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/core/conversation_store.py": {
            "lines": 104,
            "tokens": 881,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/core/config.py": {
            "lines": 121,
            "tokens": 394,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/core/__init__.py": {
            "lines": 104,
            "tokens": 541,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/cli/utils.py": {
            "lines": 49,
            "tokens": 325,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/cli/runner.py": {
            "lines": 619,
            "tokens": 4421,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/cli/display.py": {
            "lines": 238,
            "tokens": 1466,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/cli/console.py": {
            "lines": 67,
            "tokens": 494,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/cli/__init__.py": {
            "lines": 40,
            "tokens": 166,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/api/middleware.py": {
            "lines": 30,
            "tokens": 180,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/api/main.py": {
            "lines": 13,
            "tokens": 47,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/api/lifespan.py": {
            "lines": 91,
            "tokens": 477,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/api/deps.py": {
            "lines": 75,
            "tokens": 485,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/api/__init__.py": {
            "lines": 39,
            "tokens": 96,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/agents/prompts.py": {
            "lines": 115,
            "tokens": 322,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/agents/foundry.py": {
            "lines": 267,
            "tokens": 1660,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 15,
            "duplicatedTokens": 88,
            "percentage": 5.62,
            "percentageTokens": 5.3,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/agents/coordinator.py": {
            "lines": 781,
            "tokens": 4907,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/agents/base.py": {
            "lines": 463,
            "tokens": 3011,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 15,
            "duplicatedTokens": 88,
            "percentage": 3.24,
            "percentageTokens": 2.92,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/agents/__init__.py": {
            "lines": 28,
            "tokens": 166,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/main.py": {
            "lines": 132,
            "tokens": 1034,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/agentic_fleet/__init__.py": {
            "lines": 212,
            "tokens": 1024,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 27846,
          "tokens": 180854,
          "sources": 135,
          "clones": 16,
          "duplicatedLines": 242,
          "duplicatedTokens": 1753,
          "percentage": 0.87,
          "percentageTokens": 0.97,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      }
    },
    "total": {
      "lines": 27846,
      "tokens": 180854,
      "sources": 135,
      "clones": 16,
      "duplicatedLines": 242,
      "duplicatedTokens": 1753,
      "percentage": 0.87,
      "percentageTokens": 0.97,
      "newDuplicatedLines": 0,
      "newClones": 0
    }
  },
  "duplicates": [
    {
      "format": "python",
      "lines": 11,
      "fragment": "reasoner = getattr(workflow, \"dspy_reasoner\", None)\n    legacy_reasoner = getattr(workflow, \"reasoner\", None)\n\n    if reasoner is None or not hasattr(reasoner, \"nlu\"):\n        raise HTTPException(\n            status_code=status.HTTP_503_SERVICE_UNAVAILABLE,\n            detail=\"NLU module not initialized in reasoner\",\n        )\n\n    try:\n        result = reasoner.nlu.extract_entities",
      "tokens": 0,
      "firstFile": {
        "name": "src/agentic_fleet/api/routes/nlu.py",
        "start": 94,
        "end": 104,
        "startLoc": {
          "line": 94,
          "column": 5,
          "position": 588
        },
        "endLoc": {
          "line": 104,
          "column": 17,
          "position": 679
        }
      },
      "secondFile": {
        "name": "src/agentic_fleet/api/routes/nlu.py",
        "start": 59,
        "end": 69,
        "startLoc": {
          "line": 59,
          "column": 5,
          "position": 316
        },
        "endLoc": {
          "line": 69,
          "column": 16,
          "position": 407
        }
      }
    },
    {
      "format": "python",
      "lines": 11,
      "fragment": "from typing import TYPE_CHECKING, Any\n\nfrom agent_framework._agents import ChatAgent\nfrom agent_framework._threads import AgentThread\nfrom agent_framework._types import ChatMessage, Role\nfrom agent_framework._workflows import WorkflowOutputEvent\n\nfrom ..utils.logger import setup_logger\nfrom ..utils.models import ExecutionMode, RoutingDecision\nfrom .exceptions import AgentExecutionError\nfrom .helpers",
      "tokens": 0,
      "firstFile": {
        "name": "src/agentic_fleet/workflows/strategies_parallel.py",
        "start": 6,
        "end": 16,
        "startLoc": {
          "line": 6,
          "column": 1,
          "position": 16
        },
        "endLoc": {
          "line": 16,
          "column": 8,
          "position": 111
        }
      },
      "secondFile": {
        "name": "src/agentic_fleet/workflows/strategies_sequential.py",
        "start": 5,
        "end": 15,
        "startLoc": {
          "line": 5,
          "column": 1,
          "position": 12
        },
        "endLoc": {
          "line": 15,
          "column": 8,
          "position": 107
        }
      }
    },
    {
      "format": "python",
      "lines": 13,
      "fragment": "from __future__ import annotations\n\nfrom typing import TYPE_CHECKING, Any\n\nfrom agent_framework._agents import ChatAgent\nfrom agent_framework._threads import AgentThread\nfrom agent_framework._types import ChatMessage, Role\nfrom agent_framework._workflows import WorkflowOutputEvent\n\nfrom ..utils.logger import setup_logger\nfrom ..utils.models import ExecutionMode, RoutingDecision\nfrom .exceptions import AgentExecutionError\nfrom .group_chat_adapter",
      "tokens": 0,
      "firstFile": {
        "name": "src/agentic_fleet/workflows/strategies_discussion.py",
        "start": 3,
        "end": 15,
        "startLoc": {
          "line": 3,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 15,
          "column": 19,
          "position": 107
        }
      },
      "secondFile": {
        "name": "src/agentic_fleet/workflows/strategies_sequential.py",
        "start": 3,
        "end": 15,
        "startLoc": {
          "line": 3,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 15,
          "column": 8,
          "position": 107
        }
      }
    },
    {
      "format": "python",
      "lines": 13,
      "fragment": "from __future__ import annotations\n\nfrom typing import TYPE_CHECKING, Any\n\nfrom agent_framework._agents import ChatAgent\nfrom agent_framework._threads import AgentThread\nfrom agent_framework._types import ChatMessage, Role\nfrom agent_framework._workflows import WorkflowOutputEvent\n\nfrom ..utils.logger import setup_logger\nfrom ..utils.models import ExecutionMode, RoutingDecision\nfrom .exceptions import AgentExecutionError\nfrom .models",
      "tokens": 0,
      "firstFile": {
        "name": "src/agentic_fleet/workflows/strategies_delegated.py",
        "start": 3,
        "end": 15,
        "startLoc": {
          "line": 3,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 15,
          "column": 7,
          "position": 107
        }
      },
      "secondFile": {
        "name": "src/agentic_fleet/workflows/strategies_sequential.py",
        "start": 3,
        "end": 15,
        "startLoc": {
          "line": 3,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 15,
          "column": 8,
          "position": 107
        }
      }
    },
    {
      "format": "python",
      "lines": 17,
      "fragment": ":\n            routing = RoutingDecision(\n                task=routing.task,\n                assigned_to=routing.assigned_to,\n                mode=ExecutionMode.PARALLEL,\n                subtasks=tuple(\n                    prepare_subtasks(\n                        list(routing.assigned_to),\n                        list(routing.subtasks) if routing.subtasks is not None else None,\n                        task,\n                    )\n                ),\n                confidence=routing.confidence,\n                tool_requirements=routing.tool_requirements,\n            )\n\n    return",
      "tokens": 0,
      "firstFile": {
        "name": "src/agentic_fleet/workflows/helpers.py",
        "start": 341,
        "end": 357,
        "startLoc": {
          "line": 341,
          "column": 5,
          "position": 1787
        },
        "endLoc": {
          "line": 357,
          "column": 7,
          "position": 1897
        }
      },
      "secondFile": {
        "name": "src/agentic_fleet/workflows/helpers.py",
        "start": 315,
        "end": 331,
        "startLoc": {
          "line": 315,
          "column": 2,
          "position": 1588
        },
        "endLoc": {
          "line": 331,
          "column": 5,
          "position": 1698
        }
      }
    },
    {
      "format": "python",
      "lines": 11,
      "fragment": "(\n                    from_agent=from_agent,\n                    to_agent=to_agent,\n                    work_completed=work_completed,\n                    artifacts=json.dumps(artifacts, indent=2),\n                    remaining_objectives=\"\\n\".join(f\"- {obj}\" for obj in remaining_objectives),\n                    success_criteria=\"\\n\".join(f\"- {crit}\" for crit in success_criteria),\n                    tool_requirements=\", \".join(tool_requirements) if tool_requirements else \"None\",\n                )\n\n            # Parse quality checklist",
      "tokens": 0,
      "firstFile": {
        "name": "src/agentic_fleet/workflows/handoff.py",
        "start": 287,
        "end": 297,
        "startLoc": {
          "line": 287,
          "column": 7,
          "position": 1604
        },
        "endLoc": {
          "line": 297,
          "column": 26,
          "position": 1704
        }
      },
      "secondFile": {
        "name": "src/agentic_fleet/workflows/handoff.py",
        "start": 274,
        "end": 283,
        "startLoc": {
          "line": 274,
          "column": 17,
          "position": 1472
        },
        "endLoc": {
          "line": 283,
          "column": 5,
          "position": 1571
        }
      }
    },
    {
      "format": "python",
      "lines": 11,
      "fragment": "from __future__ import annotations\n\nfrom time import perf_counter\nfrom typing import Any\n\nfrom agent_framework._workflows import Executor, WorkflowContext\n\nfrom ..dspy_modules.reasoner import DSPyReasoner\nfrom ..utils.logger import setup_logger\nfrom ..utils.memory import get_process_rss_mb\nfrom ..utils.models import RoutingDecision",
      "tokens": 0,
      "firstFile": {
        "name": "src/agentic_fleet/workflows/executors_progress.py",
        "start": 6,
        "end": 16,
        "startLoc": {
          "line": 6,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 16,
          "column": 16,
          "position": 89
        }
      },
      "secondFile": {
        "name": "src/agentic_fleet/workflows/executors_quality.py",
        "start": 6,
        "end": 16,
        "startLoc": {
          "line": 6,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 16,
          "column": 14,
          "position": 89
        }
      }
    },
    {
      "format": "python",
      "lines": 11,
      "fragment": ")\n                fallback_dict = self._fallback_analysis(task_msg.task)\n                analysis_result = self._to_analysis_result(fallback_dict)\n                analysis_msg = AnalysisMessage(\n                    task=task_msg.task,\n                    analysis=analysis_result,\n                    metadata={**task_msg.metadata, \"used_fallback\": True},\n                )\n                self.context.latest_phase_status[\"analysis\"] = \"fallback\"\n                await ctx.send_message(analysis_msg)\n            finally",
      "tokens": 0,
      "firstFile": {
        "name": "src/agentic_fleet/workflows/executors_analysis.py",
        "start": 223,
        "end": 233,
        "startLoc": {
          "line": 223,
          "column": 66,
          "position": 1578
        },
        "endLoc": {
          "line": 233,
          "column": 8,
          "position": 1673
        }
      },
      "secondFile": {
        "name": "src/agentic_fleet/workflows/executors_analysis.py",
        "start": 207,
        "end": 218,
        "startLoc": {
          "line": 207,
          "column": 17,
          "position": 1454
        },
        "endLoc": {
          "line": 218,
          "column": 7,
          "position": 1550
        }
      }
    },
    {
      "format": "python",
      "lines": 14,
      "fragment": "edge_cases = self._detect_edge_cases_in_execution(execution)\n                for edge_case in edge_cases:\n                    clarifying_example = self._generate_clarifying_example_from_edge_case(\n                        execution, edge_case\n                    )\n                    if clarifying_example:\n                        edge_case_examples.append(clarifying_example)\n                        self._record_memory_from_execution(\n                            execution,\n                            clarifying_example,\n                            memory_type=\"edge_case_example\",\n                        )\n            except Exception as e:\n                logger.debug",
      "tokens": 0,
      "firstFile": {
        "name": "src/agentic_fleet/utils/self_improvement.py",
        "start": 286,
        "end": 299,
        "startLoc": {
          "line": 286,
          "column": 17,
          "position": 1846
        },
        "endLoc": {
          "line": 299,
          "column": 6,
          "position": 1936
        }
      },
      "secondFile": {
        "name": "src/agentic_fleet/utils/self_improvement.py",
        "start": 258,
        "end": 271,
        "startLoc": {
          "line": 258,
          "column": 17,
          "position": 1641
        },
        "endLoc": {
          "line": 271,
          "column": 8,
          "position": 1731
        }
      }
    },
    {
      "format": "python",
      "lines": 14,
      "fragment": ")\n            except Exception as e:\n                logger.warning(f\"Failed to load existing history: {e}\")\n                existing_history = []\n\n        # Append new execution\n        existing_history.append(execution)\n\n        # Rotate if needed\n        if self.max_entries and len(existing_history) > self.max_entries:\n            existing_history = existing_history[-self.max_entries :]\n\n        # Save updated history\n        with",
      "tokens": 0,
      "firstFile": {
        "name": "src/agentic_fleet/utils/history_manager.py",
        "start": 211,
        "end": 224,
        "startLoc": {
          "line": 211,
          "column": 2,
          "position": 1450
        },
        "endLoc": {
          "line": 224,
          "column": 5,
          "position": 1536
        }
      },
      "secondFile": {
        "name": "src/agentic_fleet/utils/history_manager.py",
        "start": 182,
        "end": 195,
        "startLoc": {
          "line": 182,
          "column": 8,
          "position": 1191
        },
        "endLoc": {
          "line": 195,
          "column": 6,
          "position": 1277
        }
      }
    },
    {
      "format": "python",
      "lines": 28,
      "fragment": "def is_time_sensitive_task(task: str) -> bool:\n    \"\"\"Heuristic detection for queries that require fresh, web-sourced data.\"\"\"\n    task_lower = task.lower()\n    freshness_keywords = [\n        \"today\",\n        \"now\",\n        \"current\",\n        \"latest\",\n        \"recent\",\n        \"breaking\",\n        \"this week\",\n        \"this month\",\n    ]\n\n    if any(keyword in task_lower for keyword in freshness_keywords):\n        return True\n\n    # Detect explicit four-digit years 2023+ (signals recency)\n    match = re.search(r\"\\b(20[2-9][0-9])\\b\", task)\n    if match:\n        year = int(match.group(1))\n        if year >= 2023:\n            return True\n\n    return False\n\n\ndef",
      "tokens": 0,
      "firstFile": {
        "name": "src/agentic_fleet/dspy_modules/reasoner_utils.py",
        "start": 105,
        "end": 132,
        "startLoc": {
          "line": 105,
          "column": 1,
          "position": 554
        },
        "endLoc": {
          "line": 132,
          "column": 4,
          "position": 717
        }
      },
      "secondFile": {
        "name": "src/agentic_fleet/workflows/helpers.py",
        "start": 26,
        "end": 54,
        "startLoc": {
          "line": 26,
          "column": 1,
          "position": 107
        },
        "endLoc": {
          "line": 54,
          "column": 6,
          "position": 271
        }
      }
    },
    {
      "format": "python",
      "lines": 14,
      "fragment": "routing_pred = self.reasoner.router(\n            task=task,\n            team=team_desc,\n            context=context,\n            current_date=self._get_current_date(),\n        )\n\n        return {\n            \"assigned_to\": routing_pred.assigned_to,\n            \"mode\": routing_pred.mode,\n            \"subtasks\": routing_pred.subtasks,\n            \"tool_requirements\": routing_pred.tool_requirements,\n            \"reasoning\": routing_pred.reasoning,\n        }",
      "tokens": 0,
      "firstFile": {
        "name": "src/agentic_fleet/dspy_modules/reasoner_predictions.py",
        "start": 261,
        "end": 274,
        "startLoc": {
          "line": 261,
          "column": 9,
          "position": 1696
        },
        "endLoc": {
          "line": 274,
          "column": 2,
          "position": 1790
        }
      },
      "secondFile": {
        "name": "src/agentic_fleet/dspy_modules/reasoner_predictions.py",
        "start": 240,
        "end": 253,
        "startLoc": {
          "line": 240,
          "column": 13,
          "position": 1528
        },
        "endLoc": {
          "line": 253,
          "column": 11,
          "position": 1622
        }
      }
    },
    {
      "format": "python",
      "lines": 12,
      "fragment": ":\n                prediction = self.reasoner.progress_evaluator(task=task, result=result, **kwargs)\n                return {\n                    \"state\": prediction.state,\n                    \"percentage_complete\": prediction.percentage_complete,\n                    \"remaining_work\": prediction.remaining_work,\n                    \"next_steps\": prediction.next_steps,\n                    \"confidence\": prediction.confidence,\n                    \"reasoning\": prediction.reasoning,\n                }\n\n    def",
      "tokens": 0,
      "firstFile": {
        "name": "src/agentic_fleet/dspy_modules/reasoner_predictions.py",
        "start": 349,
        "end": 360,
        "startLoc": {
          "line": 349,
          "column": 5,
          "position": 2294
        },
        "endLoc": {
          "line": 360,
          "column": 4,
          "position": 2385
        }
      },
      "secondFile": {
        "name": "src/agentic_fleet/dspy_modules/reasoner_predictions.py",
        "start": 339,
        "end": 349,
        "startLoc": {
          "line": 339,
          "column": 21,
          "position": 2203
        },
        "endLoc": {
          "line": 349,
          "column": 5,
          "position": 2293
        }
      }
    },
    {
      "format": "python",
      "lines": 19,
      "fragment": "agents: dict[str, Any]) -> str:\n        \"\"\"Format agent team description for routing prompts.\"\"\"\n        if not agents:\n            return \"No agents available\"\n\n        descriptions = []\n        for name, agent in agents.items():\n            desc = f\"**{name}**: \"\n            if hasattr(agent, \"description\") and agent.description:\n                desc += agent.description\n            elif hasattr(agent, \"instructions\") and agent.instructions:\n                desc += agent.instructions[:100] + \"...\"\n            else:\n                desc += \"General-purpose agent\"\n            descriptions.append(desc)\n\n        return \"\\n\".join(descriptions)\n\n    def",
      "tokens": 0,
      "firstFile": {
        "name": "src/agentic_fleet/dspy_modules/reasoner_predictions.py",
        "start": 431,
        "end": 449,
        "startLoc": {
          "line": 431,
          "column": 2,
          "position": 2865
        },
        "endLoc": {
          "line": 449,
          "column": 4,
          "position": 3027
        }
      },
      "secondFile": {
        "name": "src/agentic_fleet/dspy_modules/reasoner_utils.py",
        "start": 231,
        "end": 250,
        "startLoc": {
          "line": 231,
          "column": 2,
          "position": 1443
        },
        "endLoc": {
          "line": 250,
          "column": 74,
          "position": 1605
        }
      }
    },
    {
      "format": "python",
      "lines": 43,
      "fragment": "from __future__ import annotations\n\nfrom agentic_fleet.utils.logger import setup_logger\nfrom agentic_fleet.utils.resilience import (\n    RATE_LIMIT_EXCEPTIONS,\n    async_call_with_retry,\n    create_circuit_breaker,\n    create_rate_limit_retry,\n    external_api_retry,\n    llm_api_retry,\n    log_retry_attempt,\n)\nfrom agentic_fleet.utils.telemetry import (\n    ExecutionMetrics,\n    PerformanceTracker,\n    configure_telemetry,\n    optional_span,\n)\nfrom agentic_fleet.utils.tracing import (\n    get_meter,\n    get_tracer,\n    initialize_tracing,\n    reset_tracing,\n)\n\n__all__ = [\n    \"RATE_LIMIT_EXCEPTIONS\",\n    \"ExecutionMetrics\",\n    \"PerformanceTracker\",\n    \"async_call_with_retry\",\n    \"configure_telemetry\",\n    \"create_circuit_breaker\",\n    \"create_rate_limit_retry\",\n    \"external_api_retry\",\n    \"get_meter\",\n    \"get_tracer\",\n    \"initialize_tracing\",\n    \"llm_api_retry\",\n    \"log_retry_attempt\",\n    \"optional_span\",\n    \"reset_tracing\",\n    \"setup_logger\",\n]",
      "tokens": 0,
      "firstFile": {
        "name": "src/agentic_fleet/core/logging.py",
        "start": 25,
        "end": 67,
        "startLoc": {
          "line": 25,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 67,
          "column": 2,
          "position": 197
        }
      },
      "secondFile": {
        "name": "src/agentic_fleet/utils/infra/__init__.py",
        "start": 13,
        "end": 55,
        "startLoc": {
          "line": 13,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 55,
          "column": 2,
          "position": 197
        }
      }
    },
    {
      "format": "python",
      "lines": 16,
      "fragment": ")\n\n    async def run_stream(\n        self,\n        messages: str | ChatMessage | list[str] | list[ChatMessage] | None = None,\n        *,\n        thread: AgentThread | None = None,\n        **kwargs: Any,\n    ) -> AsyncIterable[AgentRunResponseUpdate]:\n        \"\"\"Run the agent as a stream.\n\n        For DSPy strategies that do not support native streaming (ReAct, PoT),\n        this method runs the agent to get the full response and then yields it\n        as a single update. For other cases, it delegates to the parent's\n        streaming implementation.\n        \"\"\"",
      "tokens": 0,
      "firstFile": {
        "name": "src/agentic_fleet/agents/base.py",
        "start": 297,
        "end": 312,
        "startLoc": {
          "line": 297,
          "column": 7,
          "position": 2014
        },
        "endLoc": {
          "line": 312,
          "column": 12,
          "position": 2102
        }
      },
      "secondFile": {
        "name": "src/agentic_fleet/agents/foundry.py",
        "start": 228,
        "end": 242,
        "startLoc": {
          "line": 228,
          "column": 25,
          "position": 1351
        },
        "endLoc": {
          "line": 242,
          "column": 12,
          "position": 1439
        }
      }
    }
  ]
}